#!/bin/bash

bashful::begin() {
  local dir="$(dirname "${BASH_SOURCE}")"
  source "${dir}/flag-parsing-internal/flag-parsing-internal"
}

bashful::end() {
  # Variables
  unset -v OPTS
  unset -v NUM_OPT_ARGS
  unset -v NUM_POS_ARGS
  unset -v REQUIRED
  unset -v DEFAULTS
  unset -v ACTIONS
  unset -v STORE
  unset -v INSTANCES
  unset -v POST_PARSE
  unset -v POS_ORDER
  
  unset -v ARG_VALUES
  unset -v OPT_COUNTS

  # Private functions
  unset -f debug
  unset -f print_all
  unset -f print_arg

  unset -f missing_args
  unset -f missing_required
  unset -f too_many_instances
  unset -f missing_pos_args
  unset -f too_many_pos_args
  unset -f missing_required_pos

  unset -f consume_flag
  unset -f consume_pos

  unset -f validate_opts

  unset -f post_parse
}

